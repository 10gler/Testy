{"version":3,"sources":["appconfig.js","components/VideoList.js","actions/index.js","components/MainVideo.js","components/App.js","reducers/videosReducer.js","reducers/index.js","index.js"],"names":["Config","youtubeApiKey","VideoList","console","log","this","props","videos","length","react_default","a","createElement","renderVideos","isVideoFetching","className","_this","map","v","key","etag","snippet","title","style","position","onClick","event","selectVideo","src","thumbnails","high","url","Component","connect","state","video","type","payload","MainVideo","selectedVideo","Embed","id","videoId","placeholder","source","App","dist","onSubmit","onSearchSubmit","onChange","onSearchTermChange","src_components_MainVideo","components_VideoList","onSearchTermChanged","target","value","preventDefault","setIsFetching","fetchVideos","searchTerm","term","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","dispacth","getState","response","wrap","_context","prev","next","axios","get","params","q","sent","abrupt","data","items","stop","_x","_x2","apply","arguments","status","initialSate","combineReducers","undefined","action","update","$set","filter","el","idx","ReactDom","render","es","store","createStore","reducers","applyMiddleware","thunk","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.3e11e5cb.chunk.js","sourcesContent":["const Config = {\r\n    youtubeApiKey: \"AIzaSyA7riltTfgmnBGQvqApESGStVvEODTChh8\"\r\n}\r\n\r\nexport default Config;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectVideo } from '../actions';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass VideoList extends Component {\r\n    render() {\r\n        console.log(this.props);\r\n        if (this.props.videos.length > 0) {\r\n            return (\r\n                <div>\r\n                    {this.renderVideos()}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return this.props.isVideoFetching\r\n            && <div className=\"ui active centered inline loader large\"></div>;\r\n    }\r\n\r\n    renderVideos() {    \r\n        return this.props.videos.map(v =>\r\n            <div key={v.etag} className=\"ui segment\">\r\n                <div className=\"content\">\r\n                    <h3 className=\"ui header\">{v.snippet.title}</h3>\r\n                </div>\r\n                <div className=\"content\" style={{ position: 'relative' }}>\r\n                    <div className=\"video-play\">\r\n                        <span className=\"video-play-icon\" onClick={(event) => this.props.selectVideo(v)}></span>\r\n                    </div>\r\n                    <img className=\"ui image\"\r\n                        src={v.snippet.thumbnails.high.url}\r\n                        onClick={(event) => this.props.selectVideo(v)} //! ok?\r\n                    />\r\n                </div>\r\n            </div>);\r\n    }\r\n}\r\n\r\nVideoList.propTypes = {\r\n    videos: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isVideoFetching: state.videos.isVideoFetching,\r\n        videos: state.videos.videos\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, { selectVideo })(VideoList);\r\n\r\n","import axios from 'axios';\r\nimport Config from '../appconfig'\r\n\r\nexport const fetchVideos = () => async (dispacth, getState) => {\r\n    const term = getState().videos.searchTerm;\r\n    if (term) {\r\n        const url = \"https://www.googleapis.com/youtube/v3/search?maxResults=5&part=snippet\"\r\n        const response = await axios.get(url,\r\n            {\r\n                params:\r\n                {\r\n                    key: Config.youtubeApiKey,\r\n                    q: term\r\n                }\r\n            });\r\n\r\n        return dispacth({ type: \"FETCH_VIDEOS\", payload: response.data.items });\r\n    }\r\n}\r\n\r\nexport const onSearchTermChanged = (term) => {\r\n    return {\r\n        type: \"SEARCH_TERM_CHANGED\",\r\n        payload: term\r\n    }\r\n}\r\n\r\nexport const selectVideo = (video) => {\r\n    return {\r\n        type: \"VIDEO_SELECTED\",\r\n        payload: video\r\n    }\r\n}\r\n\r\nexport const setIsFetching = (status) => {\r\n    return {\r\n        type: \"START_STOP_FETCHING\",\r\n        payload: status\r\n    }\r\n}\r\n\r\nconst sleep = (ms) => {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Embed } from 'semantic-ui-react';\r\nimport './MainVideo.css'\r\n\r\nclass MainVideo extends Component {\r\n    render() {\r\n        const v = this.props.selectedVideo;\r\n        \r\n        if (v != null){\r\n            return (\r\n                <div>\r\n                    <Embed id={v.id.videoId} \r\n                        placeholder={v.snippet.thumbnails.high.url}\r\n                        source='youtube'/>\r\n                </div>\r\n            );        \r\n        }\r\n\r\n        if (this.props.isVideoFetching){\r\n            return <div className=\"ui active centered inline loader large\"></div>;\r\n        }\r\n\r\n        return null; \r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return  {\r\n        selectedVideo: state.videos.selectedVideo,\r\n        isVideoFetching: state.videos.isVideoFetching\r\n     };\r\n}\r\n\r\nexport default connect(mapStateToProps)(MainVideo);\r\n\r\n","import React, { Component } from 'react';\r\nimport VideoList from './VideoList';\r\nimport { connect } from 'react-redux';\r\nimport { fetchVideos, onSearchTermChanged, setIsFetching } from '../actions';\r\nimport MainVideo from './MainVideo';\r\nimport {HashRouter} from 'react-router-dom'\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n            <div className=\"ui container stackable two column grid\">\r\n                <div className=\"ui row\">\r\n                    <div className=\"column eight wide\">\r\n                        <form className=\"ui form\" onSubmit={(event) => this.onSearchSubmit(event)}>\r\n                            <div className=\"field\">\r\n                                <div className=\"ui action input\">\r\n                                    <input type=\"text\" onChange={(event) => this.onSearchTermChange(event)} placeholder=\"Plase enter the phrase\" />\r\n                                    <button className=\"ui button\">Search</button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        <div className=\"ui hidden divider\"></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui row\">\r\n                    <div className=\"column ten wide\">\r\n                        <MainVideo />\r\n                    </div>\r\n                    <div className=\"column six wide\">\r\n                        <VideoList />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </HashRouter>\r\n        );\r\n    }\r\n\r\n    onSearchTermChange(event) {\r\n        this.props.onSearchTermChanged(event.target.value);\r\n    }\r\n\r\n    onSearchSubmit(event) {\r\n        event.preventDefault();\r\n        this.props.setIsFetching(true);\r\n        this.props.fetchVideos();\r\n    }\r\n}\r\n\r\nconst mapsStateToProps = (state) => {\r\n    return { searchTerm: state.searchTerm };\r\n}\r\n\r\nexport default connect(mapsStateToProps, { onSearchTermChanged, fetchVideos, setIsFetching })(App);","import update from 'immutability-helper';\r\n\r\nconst initialSate = {\r\n    videos: [],\r\n    selectedVideo: null,\r\n    searchTerm: '',\r\n    isVideoFetching: false\r\n};\r\n\r\nexport default (state = initialSate, action) => {\r\n    switch (action.type) {\r\n        case 'START_STOP_FETCHING':\r\n            return update(state, {\r\n                isVideoFetching: { $set: action.payload }\r\n            });\r\n        case 'FETCH_VIDEOS':\r\n            return update(state, {\r\n                videos: { $set: action.payload.filter((el, idx) => idx > 0) },\r\n                selectedVideo: { $set: action.payload[0] },\r\n            });\r\n        case 'VIDEO_SELECTED':\r\n            return update(state, {\r\n                selectedVideo: { $set: action.payload },\r\n            });\r\n        case 'SEARCH_TERM_CHANGED':\r\n            return update(state, {\r\n                searchTerm: { $set: action.payload },\r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n","import {combineReducers} from 'redux'\r\nimport videosReducer from './videosReducer';\r\n\r\nexport default combineReducers({\r\n    videos: videosReducer,\r\n})","import React from 'react';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport ReactDom from 'react-dom';\r\nimport App from './components/App'\r\nimport {Provider} from 'react-redux'; //!\r\nimport reducers from './reducers';\r\nimport thunk from 'redux-thunk';\r\nimport {HashRouter} from 'react-router-dom'\r\n\r\nReactDom.render(\r\n    <Provider store={createStore(reducers,  applyMiddleware(thunk))}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById(\"root\"))\r\n"],"sourceRoot":""}